<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Home - Task Matrix Organizer</title>
  <link rel="stylesheet" href="/css/style.css">
  <link href="https://fonts.googleapis.com/css2?family=Oxanium:wght@400;500;700&display=swap" rel="stylesheet">
  <!-- Add the correct Lucide script -->
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
</head>

<body>
  <div class="container">
    <div class="sidebar">
      <a href="#" class="nav-item" id="sidebar-toggle">
        <div class="nav-icon">
          <i data-lucide="menu" class="lucide-icon"></i>
        </div>
      </a>
      <a href="/home" class="nav-item active">
        <div class="nav-icon">
          <i data-lucide="home" class="lucide-icon"></i>
        </div>
      </a>
      <a href="/profile" class="nav-item">
        <div class="nav-icon">
          <i data-lucide="user" class="lucide-icon"></i>
        </div>
      </a>
    </div>
    
    <div class="main-content">
      <div class="home-container">
        <div class="home-header">
          <div class="welcome-box">
            <div class="welcome-content">
              <div class="decorative-box" style="width: 180px; height: 180px; border: 6px var(--color-secondary) solid; position: absolute"></div>
              <div class="title-large">Hello!</div>
              <div class="title-medium">Welcome to your Task Matrix Organizer</div>
              <div class="text-regular">Whether you're managing a project, a study plan, or your daily goals — TMO keeps everything in one place.</div>
            </div>
          </div>
          
          <div class="profile-image">
            <img src="<%= user.profile_image %>" alt="Profile" />
          </div>
        </div>
        
        <div class="add-area-section">
          <form action="/home" method="POST">
            <input type="hidden" name="title" value="Nova Área">
            <input type="hidden" name="description" value="Área criada automaticamente">
            <input type="hidden" name="isPrivate" value="false">
            <button type="submit" class="btn-primary">
              <span class="btn-text">Add Area</span>
            </button>
          </form>
        </div>
        
        <div class="areas-section">
          <div class="grid-container">
            <% if (areas.length < 1) { %>
              <div class="no-areas-message">No areas found. Create your first area to get started!</div>
            <% } else { %>
              <% areas.forEach(area => { %>
                <a href="/area/<%= area.id %>" class="card-link">
                  <div class="card">
                    <img class="card-image" src="https://placehold.co/277x180" alt="Area thumbnail" />
                    <div class="card-content">
                      <div class="card-title"><%= area.title %></div>
                      <div class="card-date">Created at: <%= new Date(area.created_at).toLocaleDateString() %></div>
                    </div>
                  </div>
                </a>
              <% }) %>
            <% } %>
          </div>
        </div>
        
        <div class="footer">
          <div>
            <span class="footer-text footer-text-bold">did you know?</span>
            <span class="footer-text footer-text-regular"> → TMO helps you stay organized by visually managing tasks within customizable areas.</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>

<script src="/js/sidebar.js"></script>
<script src="/js/icons.js"></script>

</html>
